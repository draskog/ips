(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{181:function(a,t,r){"use strict";r.r(t);var n=r(155),e=r(156),i=[];var s={data:function(){return{copied:!1,dialog:!1,slika:!1,message:"",color:"success",toast:!1,banks:[105,115,125,145,150,155,160,165,170,180,190,200,205,220,250,265,275,285,295,310,325,330,340,355,360,370,375,380,385],k:"PR",c:"1",sf:"289",v:"01",racun1:"",racun2:"",racun3:"",adresa:"",adresaRules:[function(a){return!!a||"Adresa primaoca je obavezana."},function(a){return a.includes(", ")||"Adresa primaoca mora da ima zarez i razmak između ulice i grada."}],primaoc:"",primaocRules:[function(a){return!!a||"Naziv primaoca je obavezan."},function(a){return a.includes(" ")||"Naziv primaoca mora da ima razmak između imena i prezimena."}],s:"",sRules:[function(a){return!!a||"Svrha plaćanja je obavezana."}],racun1Rules:[function(a){return!!a||"Fiksni broj banke je obavezan."},function(a){return i.includes(a)||"Fiksni broj banke je neispravan."}],racun2Rules:[function(a){return!!a||"Broj računa je obavezan."},function(a){return 13===a.length||"Broj računa je neispravan."}],racun3Rules:[function(a){return!!a||"Kontrolni broj je obavezan."},function(a){return 2===a.length||"Kontrolni broj je neispravan."}],iznos:1,iznosRules:[function(a){return a>=0||"Iznos je obavezan."}],formValidity:!1}},created:function(){i=this.banks},computed:{foo:function(){return this.primaoc},n:function(){return this.primaoc+", "+this.adresa},r:function(){return this.racun1+""+this.racun2+this.racun3},i:function(){return"RSD"+this.iznos+","},validRacun:function(){return n.isValid("RS35"+this.r)},validForm:function(){return this.formValidity&&n.isValid("RS35"+this.r)}},methods:{resetForm:function(){this.$refs.ipsCodeForm.reset(),this.color="info",this.toast=!0,this.message="Formular je obisan"},resetValidation:function(){this.$refs.ipsCodeForm.resetValidation(),this.color="info",this.toast=!0,this.message="Validacija je poništena"},validateForm:function(){this.$refs.ipsCodeForm.validate(),this.formValidity?(this.color="success",this.toast=!0,this.message="Formular je validan"):(this.color="error",this.toast=!0,this.message="Proverite greške u formularu")},fillForm:function(){this.primaoc="Draško Gajić",this.adresa="Valjevska 10, Beograd",this.s="Fantasy",this.racun1=275,this.racun2="0000330087024",this.racun3="39",this.iznos=1e3},copyMarkup:function(){var a=this;this.$refs.kopiranje.focus(),document.execCommand("selectAll",!1,null),document.execCommand("copy"),this.copied=!0,this.toast=!0,this.message="Sadržaj je kopiran",setTimeout((function(){a.copied=!1}),2e3)},closeDialog:function(){var a=this;axios.delete("/"+this.slika).then((function(t){a.slika=!1,a.dialog=!1})).catch((function(a){console.error(a)}))},handleRacun:function(){var a=this;this.racun2.length<13&&(this.racun2=this.racun2.padStart(13,"0")),3===this.racun1.toString().length&&13===this.racun2.length&&2===this.racun3.length&&2===this.racun2Rules.length&&this.racun2Rules.push((function(t){return a.validRacun||"Broj računa je neispravan."}))},posalji:function(a){var t,r,n=this,i={c:this.c,v:this.v,k:this.k,r:this.r,i:this.i,n:this.n,sf:this.sf,s:this.s,rl:"09-2020"};t=i,r="|",i=["k","v","c","r","i","n","rs","sf","s"].map((function(a){return t[a]?"".concat(a.toUpperCase(),":").concat(t[a]):void 0})).filter((function(a){return a})).join(r),e.toDataURL(i).then((function(a){axios.post("/",{imageBase64:a}).then((function(a){n.slika=a.data,n.dialog=!0})).catch((function(a){console.error(a)}))})).catch((function(a){console.error(a)}))}}},o=r(72),c=Object(o.a)(s,(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("v-container",[r("v-row",[r("v-col",[r("h1",[a._v("IPS QR kod generator")]),a._v(" "),r("v-form",{ref:"ipsCodeForm",on:{submit:function(t){return t.preventDefault(),a.posalji(t)}},model:{value:a.formValidity,callback:function(t){a.formValidity=t},expression:"formValidity"}},[r("v-text-field",{attrs:{label:"Naziv primaoca",type:"text",rules:a.primaocRules,required:""},model:{value:a.primaoc,callback:function(t){a.primaoc=t},expression:"primaoc"}}),a._v(" "),r("v-text-field",{attrs:{label:"Adresa primaoca",type:"text",rules:a.adresaRules,required:""},model:{value:a.adresa,callback:function(t){a.adresa=t},expression:"adresa"}}),a._v(" "),r("v-text-field",{attrs:{label:"Svrha plaćanja",type:"text",placeholder:"Rođendan",rules:a.sRules,required:""},model:{value:a.s,callback:function(t){a.s=t},expression:"s"}}),a._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-autocomplete",{attrs:{rules:a.racun1Rules,counter:3,label:"Fiksni broj banke",items:a.banks,required:""},on:{blur:a.handleRacun},model:{value:a.racun1,callback:function(t){a.racun1=t},expression:"racun1"}})],1),a._v(" "),r("v-col",{attrs:{cols:"12",md:"8"}},[r("v-text-field",{attrs:{rules:a.racun2Rules,counter:13,label:"Broj računa",required:""},on:{blur:a.handleRacun},model:{value:a.racun2,callback:function(t){a.racun2=t},expression:"racun2"}})],1),a._v(" "),r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-text-field",{attrs:{type:"number",rules:a.racun3Rules,counter:2,label:"Kontrolni broj",required:""},on:{blur:a.handleRacun},model:{value:a.racun3,callback:function(t){a.racun3=t},expression:"racun3"}})],1)],1),a._v(" "),r("v-text-field",{attrs:{type:"number",rules:a.iznosRules,label:"Iznos",required:""},model:{value:a.iznos,callback:function(t){a.iznos=t},expression:"iznos"}}),a._v(" "),r("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary",disabled:!a.validForm}},[a._v("\n          Kreiraj kod\n        ")]),a._v(" "),r("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:a.validateForm}},[a._v("Validiraj podatke")]),a._v(" "),r("v-btn",{staticClass:"mr-4",attrs:{color:"warning"},on:{click:a.resetValidation}},[a._v("Poništi validaciju")]),a._v(" "),r("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:a.resetForm}},[a._v("Obriši formular")])],1)],1)],1),a._v(" "),r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{"max-width":"400"},model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[a.slika?r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400"}},[r("v-container",[r("v-row",{attrs:{justify:"space-between"}},[r("div",{ref:"kopiranje",staticStyle:{position:"absolute",top:"-400px",left:"-400px","background-color":"white",color:"black"},attrs:{contenteditable:"true"}},[a._v("\n              "+a._s(a.primaoc)+"\n              "),r("br"),a._v("\n              "+a._s(a.adresa)+"\n              "),r("br"),a._v("\n              "+a._s(a.racun1)+"-"+a._s(a.racun2)+"-"+a._s(a.racun3)+"\n              "),r("br"),r("br"),a._v(" "),r("img",{attrs:{src:"codes/"+a.slika}})]),a._v(" "),r("v-col",{attrs:{cols:"auto"}},[a._v("\n              "+a._s(a.primaoc)+"\n              "),r("br"),a._v("\n              "+a._s(a.adresa)+"\n              "),r("br"),a._v("\n              "+a._s(a.racun1)+"-"+a._s(a.racun2)+"-"+a._s(a.racun3)+"\n              "),r("br"),r("br"),a._v(" "),r("v-img",{attrs:{height:"200",width:"200",src:"codes/"+a.slika}})],1),a._v(" "),r("v-col",{staticClass:"text-center pl-0",attrs:{cols:"auto"}},[r("v-row",{staticClass:"flex-column ma-0 fill-height",attrs:{justify:"center"}},[r("v-col",{staticClass:"px-0"},[r("v-tooltip",{attrs:{right:"","close-delay":"600"},scopedSlots:a._u([{key:"activator",fn:function(t){var n=t.on;t.attrs;return[r("v-btn",a._g({attrs:{icon:""},on:{click:a.copyMarkup}},n),[r("v-icon",[a._v("mdi-content-copy")])],1)]}}],null,!1,408312730)},[a._v(" "),a.copied?r("span",[a._v("Sadržaj je kopiran")]):r("span",[a._v("Kopiraj")])])],1)],1)],1)],1)],1),a._v(" "),r("v-card-actions",[r("v-spacer"),a._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:a.closeDialog}},[a._v("\n            Zatvori\n          ")])],1)],1):a._e()],1)],1),a._v(" "),r("v-snackbar",{attrs:{timeout:"2000",absolute:"",top:"","multi-line":"",color:a.color},model:{value:a.toast,callback:function(t){a.toast=t},expression:"toast"}},[a._v("\n    "+a._s(a.message)+".\n  ")])],1)}),[],!1,null,null,null);t.default=c.exports}}]);